<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Children Health Centres — Dashboard</title>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer"/>

  <style>
    :root{--accent:#4f46e5;--muted:#6b7280;--bg:#f8fafc}
    *{box-sizing:border-box}
    body{font-family:Inter,ui-sans-serif,system-ui; margin:0; background:var(--bg); color:#0f172a}
    .app{display:grid; grid-template-columns:260px 1fr; min-height:100vh}
    .sidebar{background:#ffffff; padding:20px; border-right:1px solid #e6eef6}
    .brand{display:flex;align-items:center;gap:10px;margin-bottom:18px}
    .brand .logo{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#06b6d4);display:flex;align-items:center;justify-content:center;color:white;font-weight:700}
    .nav a{display:block;padding:10px;border-radius:8px;color:var(--muted);text-decoration:none;margin-bottom:6px}
    .nav a.active{background:#eef2ff;color:var(--accent);font-weight:600}
    header{display:flex;align-items:center;justify-content:space-between;padding:18px 22px}
    .search{display:flex;align-items:center;gap:10px;background:white;padding:8px;border-radius:10px;box-shadow:0 1px 2px rgba(15,23,42,0.04)}
    .search input{border:0;outline:0}
    .content{padding:22px}
    .cards{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:18px}
    .card{background:white;padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(15,23,42,0.04);text-align:center}
    .card img{width:100%;height:140px;object-fit:cover;border-radius:8px;margin-bottom:8px}
    .card h3{margin:0;font-size:14px;color:var(--muted)}
    .card p{margin:6px 0 0;font-size:20px;font-weight:700}
    .main-grid{display:grid;grid-template-columns:2fr 1fr;gap:16px}
    .panel{background:white;padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(15,23,42,0.04)}
    table{width:100%;border-collapse:collapse}
    th,td{padding:10px;text-align:left;border-bottom:1px solid #eef2f8;font-size:14px}
    th{color:var(--muted);font-weight:600}
    tr:hover td{background:#fbfdff}
    .filters{display:flex;gap:10px;align-items:center;margin-bottom:12px}
    .btn{background:var(--accent);color:white;padding:8px 12px;border-radius:10px;border:0;cursor:pointer}
    .btn.ghost{background:transparent;color:var(--accent);border:1px solid #eef2ff}
    @media(max-width:980px){.app{grid-template-columns:1fr} .sidebar{display:none} .cards{grid-template-columns:repeat(2,1fr)} .main-grid{grid-template-columns:1fr}}
    @media(max-width:520px){.cards{grid-template-columns:1fr}}
    .small{font-size:12px;color:var(--muted)}
    .pill{display:inline-block;padding:6px 8px;border-radius:999px;background:#f1f5f9;font-weight:600}
  </style>
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <div class="brand">
        <div class="logo">CH</div>
        <div>
          <div style="font-weight:700">Children Health</div>
          <div class="small">Dashboard</div>
        </div>
      </div>
      <nav class="nav">
        <a href="#" class="active"><i class="fa-solid fa-gauge-high"></i> Overview</a>
        <a href="#centres"><i class="fa-solid fa-hospital"></i> Centres</a>
        <a href="#collections"><i class="fa-solid fa-coins"></i> Collections</a>
        <a href="#reports"><i class="fa-solid fa-chart-pie"></i> Reports</a>
      </nav>
    </aside>

    <main>
      <header>
        <div class="search">
          <i class="fa-solid fa-magnifying-glass"></i>
          <input id="globalSearch" placeholder="Search centres..." oninput="renderTable()">
        </div>
        <div class="small">Welcome, Admin</div>
      </header>

      <section class="content">
        <div class="cards">
          <div class="card">
            <img src="https://picsum.photos/400/200?random=1" alt="Centre" />
            <h3>Total Centres</h3>
            <p id="totalCentres">—</p>
          </div>
          <div class="card">
            <img src="https://picsum.photos/400/200?random=2" alt="Children" />
            <h3>Total Children</h3>
            <p id="totalChildren">—</p>
          </div>
          <div class="card">
            <img src="https://picsum.photos/400/200?random=3" alt="Appointments" />
            <h3>Active Appointments</h3>
            <p id="activeAppointments">—</p>
          </div>
          <div class="card">
            <img src="https://picsum.photos/400/200?random=4" alt="Collections" />
            <h3>Collections (₹)</h3>
            <p id="totalCollections">—</p>
          </div>
        </div>

        <div class="main-grid">
          <div class="panel">
            <h3>Collections by Centre</h3>
            <canvas id="barChart" height="120"></canvas>
          </div>

          <div class="panel">
            <h3>Centres List</h3>
            <div class="filters">
              <select id="locationFilter" onchange="renderTable()">
                <option value="all">All Locations</option>
              </select>
              <select id="typeFilter" onchange="renderTable()">
                <option value="all">All Types</option>
                <option value="public">Public</option>
                <option value="private">Private</option>
                <option value="ngo">NGO</option>
              </select>
            </div>
            <div style="overflow:auto;max-height:420px">
              <table id="centresTable">
                <thead>
                  <tr><th>Name</th><th>Location</th><th>Patients</th><th>Collections (₹)</th><th>Contact</th></tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </div>
        </div>

        <div class="panel">
          <h3>Service Type Distribution</h3>
          <canvas id="donutChart" width="200" height="140"></canvas>
        </div>
      </section>
    </main>
  </div>

  <script>
    const centres = [
      {id:1,name:'Sunrise Child Care',location:'Hyderabad',type:'private',patients:420,collections:125000,contact:'+91 98765 43210'},
      {id:2,name:'Little Stars Clinic',location:'Chennai',type:'public',patients:870,collections:88000,contact:'+91 91234 56789'},
      {id:3,name:'Happy Kids Health',location:'Bengaluru',type:'ngo',patients:650,collections:102000,contact:'+91 99876 54321'}
    ];

    let barChart, donutChart;
    function init(){populateFilters();updateSummary();renderTable();renderCharts();}
    function populateFilters(){const locations=['all',...new Set(centres.map(c=>c.location))];document.getElementById('locationFilter').innerHTML=locations.map(l=>`<option value="${l}">${l==='all'?'All Locations':l}</option>`).join('');}
    function updateSummary(){document.getElementById('totalCentres').innerText=centres.length;const totalChildren=centres.reduce((s,c)=>s+c.patients,0);document.getElementById('totalChildren').innerText=totalChildren;document.getElementById('activeAppointments').innerText=Math.floor(totalChildren*0.12);const totalCollections=centres.reduce((s,c)=>s+c.collections,0);document.getElementById('totalCollections').innerText=totalCollections;}
    function renderTable(){const tbody=document.querySelector('#centresTable tbody');const loc=document.getElementById('locationFilter').value;const type=document.getElementById('typeFilter').value;const q=(document.getElementById('globalSearch').value||'').toLowerCase();const filtered=centres.filter(c=>{if(loc!=='all'&&c.location!==loc)return false;if(type!=='all'&&c.type!==type)return false;if(q){const hay=`${c.name} ${c.location} ${c.contact} ${c.type}`.toLowerCase();return hay.includes(q);}return true;});tbody.innerHTML=filtered.map(c=>`<tr><td>${c.name}</td><td>${c.location}</td><td>${c.patients}</td><td>₹ ${c.collections}</td><td>${c.contact}</td></tr>`).join('');if(barChart){barChart.data.labels=filtered.map(c=>c.name);barChart.data.datasets[0].data=filtered.map(c=>c.collections);barChart.update();}}
    function renderCharts(){const ctx=document.getElementById('barChart').getContext('2d');barChart=new Chart(ctx,{type:'bar',data:{labels:centres.map(c=>c.name),datasets:[{label:'Collections (₹)',data:centres.map(c=>c.collections),backgroundColor:'rgba(79,70,229,0.8)'}]},options:{plugins:{legend:{display:false}}}});const dctx=document.getElementById('donutChart').getContext('2d');donutChart=new Chart(dctx,{type:'doughnut',data:{labels:['Immunization','Nutrition','General OPD','Emergency'],datasets:[{data:[40,25,20,15],backgroundColor:['#60a5fa','#34d399','#f59e0b','#f87171']}]},options:{plugins:{legend:{position:'right'}}}});}
    init();
  </script>
</body>
</html>
